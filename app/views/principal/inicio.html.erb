<script type="text/javascript">
function moverFondo(event,element){
	var containerWidth = element.innerWidth()*1.15,  
		  containerHeight = element.innerHeight()*1.15,
		  mousePositionX = (event.pageX / containerWidth) * 100,
		  mousePositionY = (event.pageY /containerHeight) * 100;

	element.css('background-position', mousePositionX + '%' + ' ' + mousePositionY + '%');
}

function cambiarHamburguesa(toggle){

	$("#rect_sup").css({ "margin": (toggle == 0 ? "45px auto 0" : ""), "height": (toggle == 0 ? "2.5px" : "")});
	$("#rect_mid").css({ "margin": (toggle == 0 ? "0 auto" : ""), "height": (toggle == 0 ? "0" : "")});
	$("#rect_inf").css({ "margin": (toggle == 0 ? "0 auto" : ""), "height": (toggle == 0 ? "2.5px" : "")});
}

function desplegarMenu(){
	var ind = $("#cont_menu").css('z-index');
	$("#cont_menu").css("-webkit-animation-play-state", "paused");
	if(ind != 3){ 
		$("#cont_menu").css({"-webkit-animation": "fade-in 0.8s ease 0s 1 normal forwards", "z-index": "3"}); 
		$("#op1").css({"-webkit-animation": "opt-ap 0.6s ease 0.7s 1 normal forwards"});
		$("#op2").css({"-webkit-animation": "opt-ap 0.6s ease 0.8s 1 normal forwards"});
		$("#op3").css({"-webkit-animation": "opt-ap 0.6s ease 0.9s 1 normal forwards"});
		$("#op4").css({"-webkit-animation": "opt-ap 0.6s ease 1s 1 normal forwards"});
	}
	else{
		setTimeout(function(){ $("#cont_menu").css({"z-index": "-1"}); }, 750);
		$("#cont_menu").css({"-webkit-animation": "fade-out 0.8s ease 0.5s 1 normal both"});
		$("#op1").css({"-webkit-animation": "opt-dis 0.6s ease 0.3s 1 normal both"});
		$("#op2").css({"-webkit-animation": "opt-dis 0.6s ease 0.4s 1 normal both"});
		$("#op3").css({"-webkit-animation": "opt-dis 0.6s ease 0.5s 1 normal both"});
		$("#op4").css({"-webkit-animation": "opt-dis 0.6s ease 0.6s 1 normal both"});
	}	
}

function toggleBorde(event,borde,toggle){
	$(borde).css("width", (toggle == 0 ? "100%" : ""));
}
</script>
<style>

body,html { min-height: 100%; }

.rect {
	background-color: rgba(200,200,200,0.85);
	width: 60px;
	height: 5px;
	margin: 10px auto;
	cursor: pointer;
	transition: all ease 0.9s;
	-webkit-transition: all ease 0.9s;
	-moz-transition: all ease 0.9s;
	-o-transition: all ease 0.9s;
}

.opciones{
	cursor: pointer;
	position: absolute;
	right: 0;
	background-color: rgba(220,20,20,0);
	color: rgba(255,255,255,0);
	font-size: 30px;
	white-space: nowrap;
}

.borde-op{
	background-color: #FFF;
	height: 5px;
	width: 0%;
	position: absolute;
	bottom: 0;
	left: 0;
	transition: width linear 0.3s;
	-webkit-transition: width linear 0.3s;
	-moz-transition: width linear 0.3s;
	-o-transition: width linear 0.3s;
}

#cont_menu{
	height:100%;
	width:100%;
	position:fixed;
	top:0;
	left:0;
	margin:0 auto;
	background-color:rgba(220,20,60,0);
	z-index:-1;
}

/* Animación de las opciones principales del menú */
@-webkit-keyframes opt-ap{
	0% { z-index: -1; right: 0; color: rgba(255,255,255,0); }
	100%	 { z-index: 4; right: 45%; color: rgba(255,255,255,1); }
}

@-webkit-keyframes opt-dis{
	0%	 { z-index: 4; right: 45%; color: rgba(255,255,255,1); }
	100% { z-index: -1; right: 0; color: rgba(255,255,255,0); }
}

/* Animación del contenedor del menú */
@-webkit-keyframes fade-in{
	0% { /*z-index: -1;*/ width: 100%; height: 100%; top: 0; left: 0; background-color: rgba(220,20,60,0), transform: translate(0,0); }
	100%	 { /*z-index: 3;*/ width: 90%; height: 85%; top: 50%; left: 50%; transform: translate(-50%,-50%); background-color: rgba(220,20,60,0.8); }
}

@-webkit-keyframes fade-out{
	0%	 { /*z-index: 3;*/ width: 90%; height: 85%; top: 50%; left: 50%; transform: translate(-50%,-50%); background-color: rgba(220,20,60,0.8); }
	100% { /*z-index: -1;*/ width: 100%; height: 100%; top: 0; left: 0; background-color: rgba(220,20,60,0), transform: translate(0,0); }
}
</style>

<div id="inicio" style="height:100%;width:100%;position:absolute;top:0;left:0;z-index:0;">

	<div id="cont_menu" onclick="desplegarMenu();">
	</div>

	<div id="contenedor" style="width:90%; height:85%;margin:auto;overflow:hidden;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;background:url(<%= image_path('Paisaje.png') %>) no-repeat center center / 120% 120%" onmousemove="moverFondo(event,$(this));">
	</div>
	<div id="brand" style="height:130px;width:130px;position:absolute;top:17%;left:2.5%;z-index:4;background:url(<%= image_path('pine.jpg') %>) no-repeat center center / 120% 120%">
	</div>
	<div id="menu_canvas" style="background-color:rgba(255,255,255,0);height:60px;width:120px;position:absolute;top:17%;right:10%;transition:all ease 0.5s;-webkit-transition:all ease 0.5s;-moz-transition:all ease 0.5s;-o-transition:all ease 0.5s;z-index:4;">
		<div id="rect_sup" class="rect" style="top:18%;right:10%;">
		</div>
		<div id="rect_mid" class="rect" style="top:19%;right:10%;">
		</div>
		<div id="rect_inf" class="rect" style="top:20%;right:10%;">
		</div>
	</div>

	<div style="cursor:pointer;background-color:rgba(255,255,255,0);height:60px;width:120px;position:absolute;top:17%;right:10%;z-index:5;" onmouseenter="cambiarHamburguesa(0);" onmouseleave="cambiarHamburguesa(1);" onclick="desplegarMenu();">	
	</div>

	<div class="opciones" id="op1" style="top:25%" onmouseenter="toggleBorde(event,'#borde-1',0);" onmouseleave="toggleBorde(event,'#borde-1',1);">Opcion 1
		<div id="borde-1" class="borde-op"></div>
	</div>
	<div class="opciones" id="op2" style="top:30%" onmouseenter="toggleBorde(event,'#borde-2',0);" onmouseleave="toggleBorde(event,'#borde-2',1);">Opcion 2
		<div id="borde-2" class="borde-op"></div>
	</div>
	<div class="opciones" id="op3" style="top:35%" onmouseenter="toggleBorde(event,'#borde-3',0);" onmouseleave="toggleBorde(event,'#borde-3',1);">Opcion 3
		<div id="borde-3" class="borde-op"></div>
	</div>
	<div class="opciones" id="op4" style="top:40%" onmouseenter="toggleBorde(event,'#borde-4',0);" onmouseleave="toggleBorde(event,'#borde-4',1);">Opcion 4
		<div id="borde-4" class="borde-op"></div>
	</div>

</div>

<div id="mosaico" style="height:100%;background-color:rgb(220,20,60);">

</div>

